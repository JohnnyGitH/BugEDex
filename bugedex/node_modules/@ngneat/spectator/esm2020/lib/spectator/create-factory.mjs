import { TestBed, waitForAsync } from '@angular/core/testing';
import { BrowserDynamicTestingModule } from '@angular/platform-browser-dynamic/testing';
import { setProps } from '../internals/query';
import * as customMatchers from '../matchers';
import { addMatchers } from '../core';
import { isType } from '../types';
import { initialSpectatorModule } from './initial-module';
import { getSpectatorDefaultOptions } from './options';
import { Spectator } from './spectator';
/**
 * @internal
 */
export function overrideComponentIfProviderOverridesSpecified(options) {
    const hasProviderOverrides = options.componentProviders.length || options.componentMocks.length;
    const hasViewProviders = options.componentViewProviders.length || options.componentViewProvidersMocks.length;
    if (hasProviderOverrides || hasViewProviders) {
        let providerConfiguration = {};
        if (hasProviderOverrides) {
            providerConfiguration = {
                providers: [...options.componentProviders, ...options.componentMocks.map(p => options.mockProvider(p))]
            };
        }
        if (hasViewProviders) {
            providerConfiguration = {
                ...providerConfiguration,
                viewProviders: [...options.componentViewProviders, ...options.componentViewProvidersMocks.map(p => options.mockProvider(p))]
            };
        }
        TestBed.overrideComponent(options.component, {
            set: providerConfiguration
        });
    }
}
/**
 * @internal
 */
export function overrideModules(options) {
    if (options.overrideModules.length) {
        options.overrideModules.forEach(overrideModule => {
            const [ngModule, override] = overrideModule;
            TestBed.overrideModule(ngModule, override);
        });
    }
}
/**
 * @publicApi
 */
export function createComponentFactory(typeOrOptions) {
    const options = isType(typeOrOptions)
        ? getSpectatorDefaultOptions({ component: typeOrOptions })
        : getSpectatorDefaultOptions(typeOrOptions);
    const moduleMetadata = initialSpectatorModule(options);
    beforeEach(waitForAsync(() => {
        addMatchers(customMatchers);
        TestBed.configureTestingModule(moduleMetadata).overrideModule(BrowserDynamicTestingModule, {
            set: {
                entryComponents: moduleMetadata.entryComponents
            }
        });
        overrideModules(options);
        overrideComponentIfProviderOverridesSpecified(options);
        TestBed.compileComponents();
    }));
    return (overrides) => {
        const defaults = { props: {}, detectChanges: true, providers: [] };
        const { detectChanges, props, providers } = { ...defaults, ...overrides };
        if (providers && providers.length) {
            providers.forEach((provider) => {
                TestBed.overrideProvider(provider.provide, provider);
            });
        }
        const spectator = createSpectator(options, props);
        if (options.detectChanges && detectChanges) {
            spectator.detectChanges();
        }
        return spectator;
    };
}
function createSpectator(options, props) {
    const fixture = TestBed.createComponent(options.component);
    const debugElement = fixture.debugElement;
    const component = setProps(fixture.componentInstance, props);
    return new Spectator(fixture, debugElement, component, debugElement.nativeElement);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3JlYXRlLWZhY3RvcnkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9zcGVjdGF0b3Ivc3JjL2xpYi9zcGVjdGF0b3IvY3JlYXRlLWZhY3RvcnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUM5RCxPQUFPLEVBQUUsMkJBQTJCLEVBQUUsTUFBTSwyQ0FBMkMsQ0FBQztBQUd4RixPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDOUMsT0FBTyxLQUFLLGNBQWMsTUFBTSxhQUFhLENBQUM7QUFDOUMsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLFNBQVMsQ0FBQztBQUN0QyxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sVUFBVSxDQUFDO0FBRWxDLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQzFELE9BQU8sRUFBRSwwQkFBMEIsRUFBb0IsTUFBTSxXQUFXLENBQUM7QUFDekUsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQWV4Qzs7R0FFRztBQUNILE1BQU0sVUFBVSw2Q0FBNkMsQ0FBSSxPQUFzQztJQUNyRyxNQUFNLG9CQUFvQixHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxNQUFNLElBQUksT0FBTyxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUM7SUFDaEcsTUFBTSxnQkFBZ0IsR0FBRyxPQUFPLENBQUMsc0JBQXNCLENBQUMsTUFBTSxJQUFJLE9BQU8sQ0FBQywyQkFBMkIsQ0FBQyxNQUFNLENBQUM7SUFDN0csSUFBSSxvQkFBb0IsSUFBSSxnQkFBZ0IsRUFBRTtRQUM1QyxJQUFJLHFCQUFxQixHQUFHLEVBQUUsQ0FBQztRQUMvQixJQUFJLG9CQUFvQixFQUFFO1lBQ3hCLHFCQUFxQixHQUFHO2dCQUN0QixTQUFTLEVBQUUsQ0FBQyxH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RSxDQUFDO1NBQzNCO1FBRUQsT0FBTyxTQUFTLENBQUM7SUFDbkIsQ0FBQyxDQUFDO0FBQ0osQ0FBQztBQUVELFNBQVMsZUFBZSxDQUFJLE9BQXNDLEVBQUUsS0FBa0I7SUFDcEYsTUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDM0QsTUFBTSxZQUFZLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQztJQUUxQyxNQUFNLFNBQVMsR0FBRyxRQUFRLENBQUMsT0FBTyxDQUFDLGlCQUFpQixFQUFFLEtBQUssQ0FBQyxDQUFDO0lBRTdELE9BQU8sSUFBSSxTQUFTLENBQUMsT0FBTyxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQUUsWUFBWSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0FBQ3JGLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcm92aWRlciwgVHlwZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVGVzdEJlZCwgd2FpdEZvckFzeW5jIH0gZnJvbSAnQGFuZ3VsYXIvY29yZS90ZXN0aW5nJztcbmltcG9ydCB7IEJyb3dzZXJEeW5hbWljVGVzdGluZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXItZHluYW1pYy90ZXN0aW5nJztcblxuaW1wb3J0IHsgQmFzZVNwZWN0YXRvck9wdGlvbnMsIEJhc2VTcGVjdGF0b3JPdmVycmlkZXMgfSBmcm9tICcuLi9iYXNlL29wdGlvbnMnO1xuaW1wb3J0IHsgc2V0UHJvcHMgfSBmcm9tICcuLi9pbnRlcm5hbHMvcXVlcnknO1xuaW1wb3J0ICogYXMgY3VzdG9tTWF0Y2hlcnMgZnJvbSAnLi4vbWF0Y2hlcnMnO1xuaW1wb3J0IHsgYWRkTWF0Y2hlcnMgfSBmcm9tICcuLi9jb3JlJztcbmltcG9ydCB7IGlzVHlwZSB9IGZyb20gJy4uL3R5cGVzJztcblxuaW1wb3J0IHsgaW5pdGlhbFNwZWN0YXRvck1vZHVsZSB9IGZyb20gJy4vaW5pdGlhbC1tb2R1bGUnO1xuaW1wb3J0IHsgZ2V0U3BlY3RhdG9yRGVmYXVsdE9wdGlvbnMsIFNwZWN0YXRvck9wdGlvbnMgfSBmcm9tICcuL29wdGlvbnMnO1xuaW1wb3J0IHsgU3BlY3RhdG9yIH0gZnJvbSAnLi9zcGVjdGF0b3InO1xuXG4vKipcbiAqIEBwdWJsaWNBcGlcbiAqL1xuZXhwb3J0IHR5cGUgU3BlY3RhdG9yRmFjdG9yeTxDPiA9IChvcHRpb25zPzogU3BlY3RhdG9yT3ZlcnJpZGVzPEM+KSA9PiBTcGVjdGF0b3I8Qz47XG5cbi8qKlxuICogQHB1YmxpY0FwaVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNwZWN0YXRvck92ZXJyaWRlczxDPiBleHRlbmRzIEJhc2VTcGVjdGF0b3JPdmVycmlkZXMge1xuICBkZXRlY3RDaGFuZ2VzPzogYm9vbGVhbjtcbiAgcHJvcHM/OiBQYXJ0aWFsPEM+O1xufVxuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gb3ZlcnJpZGVDb21wb25lbnRJZlByb3ZpZGVyT3ZlcnJpZGVzU3BlY2lmaWVkPEM+KG9wdGlvbnM6IFJlcXVpcmVkPFNwZWN0YXRvck9wdGlvbnM8Qz4+KTogdm9pZCB7XG4gIGNvbnN0IGhhc1Byb3ZpZGVyT3ZlcnJpZGVzID0gb3B0aW9ucy5jb21wb25lbnRQcm92aWRlcnMubGVuZ3RoIHx8IG9wdGlvbnMuY29tcG9uZW50TW9ja3MubGVuZ3RoO1xuICBjb25zdCBoYXNWaWV3UHJvdmlkZXJzID0gb3B0aW9ucy5jb21wb25lbnRWaWV3UHJvdmlkZXJzLmxlbmd0aCB8fCBvcHRpb25zLmNvbXBvbmVudFZpZXdQcm92aWRlcnNNb2Nrcy5sZW5ndGg7XG4gIGlmIChoYXNQcm92aWRlck92ZXJyaWRlcyB8fCBoYXNWaWV3UHJvdmlkZXJzKSB7XG4gICAgbGV0IHByb3ZpZGVyQ29uZmlndXJhdGlvbiA9IHt9O1xuICAgIGlmIChoYXNQcm92aWRlck92ZXJyaWRlcykge1xuICAgICAgcHJvdmlkZXJDb25maWd1cmF0aW9uID0ge1xuICAgICAgICBwcm92aWRlcnM6IFsuLi5vcHRpb25zLmNvbXBvbmVudFByb3ZpZGVycywgLi4ub3B0aW9ucy5jb21wb25lbnRNb2Nrcy5tYXAocCA9PiBvcHRpb25zLm1vY2tQcm92aWRlcihwKSldXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoaGFzVmlld1Byb3ZpZGVycykge1xuICAgICAgcHJvdmlkZXJDb25maWd1cmF0aW9uID0ge1xuICAgICAgICAuLi5wcm92aWRlckNvbmZpZ3VyYXRpb24sXG4gICAgICAgIHZpZXdQcm92aWRlcnM6IFsuLi5vcHRpb25zLmNvbXBvbmVudFZpZXdQcm92aWRlcnMsIC4uLm9wdGlvbnMuY29tcG9uZW50Vmlld1Byb3ZpZGVyc01vY2tzLm1hcChwID0+IG9wdGlvbnMubW9ja1Byb3ZpZGVyKHApKV1cbiAgICAgIH07XG4gICAgfVxuICAgIFRlc3RCZWQub3ZlcnJpZGVDb21wb25lbnQob3B0aW9ucy5jb21wb25lbnQsIHtcbiAgICAgIHNldDogcHJvdmlkZXJDb25maWd1cmF0aW9uXG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG92ZXJyaWRlTW9kdWxlcyhvcHRpb25zOiBSZXF1aXJlZDxCYXNlU3BlY3RhdG9yT3B0aW9ucz4pOiB2b2lkIHtcbiAgaWYgKG9wdGlvbnMub3ZlcnJpZGVNb2R1bGVzLmxlbmd0aCkge1xuICAgIG9wdGlvbnMub3ZlcnJpZGVNb2R1bGVzLmZvckVhY2gob3ZlcnJpZGVNb2R1bGUgPT4ge1xuICAgICAgY29uc3QgW25nTW9kdWxlLCBvdmVycmlkZV0gPSBvdmVycmlkZU1vZHVsZTtcblxuICAgICAgVGVzdEJlZC5vdmVycmlkZU1vZHVsZShuZ01vZHVsZSwgb3ZlcnJpZGUpO1xuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogQHB1YmxpY0FwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50RmFjdG9yeTxDPih0eXBlT3JPcHRpb25zOiBUeXBlPEM+IHwgU3BlY3RhdG9yT3B0aW9uczxDPik6IFNwZWN0YXRvckZhY3Rvcnk8Qz4ge1xuICBjb25zdCBvcHRpb25zID0gaXNUeXBlKHR5cGVPck9wdGlvbnMpXG4gICAgPyBnZXRTcGVjdGF0b3JEZWZhdWx0T3B0aW9uczxDPih7IGNvbXBvbmVudDogdHlwZU9yT3B0aW9ucyB9KVxuICAgIDogZ2V0U3BlY3RhdG9yRGVmYXVsdE9wdGlvbnModHlwZU9yT3B0aW9ucyk7XG5cbiAgY29uc3QgbW9kdWxlTWV0YWRhdGEgPSBpbml0aWFsU3BlY3RhdG9yTW9kdWxlPEM+KG9wdGlvbnMpO1xuXG4gIGJlZm9yZUVhY2goXG4gICAgd2FpdEZvckFzeW5jKCgpID0+IHtcbiAgICAgIGFkZE1hdGNoZXJzKGN1c3RvbU1hdGNoZXJzKTtcbiAgICAgIFRlc3RCZWQuY29uZmlndXJlVGVzdGluZ01vZHVsZShtb2R1bGVNZXRhZGF0YSkub3ZlcnJpZGVNb2R1bGUoQnJvd3NlckR5bmFtaWNUZXN0aW5nTW9kdWxlLCB7XG4gICAgICAgIHNldDoge1xuICAgICAgICAgIGVudHJ5Q29tcG9uZW50czogbW9kdWxlTWV0YWRhdGEuZW50cnlDb21wb25lbnRzXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBvdmVycmlkZU1vZHVsZXMob3B0aW9ucyk7XG5cbiAgICAgIG92ZXJyaWRlQ29tcG9uZW50SWZQcm92aWRlck92ZXJyaWRlc1NwZWNpZmllZChvcHRpb25zKTtcblxuICAgICAgVGVzdEJlZC5jb21waWxlQ29tcG9uZW50cygpO1xuICAgIH0pXG4gICk7XG5cbiAgcmV0dXJuIChvdmVycmlkZXM/OiBTcGVjdGF0b3JPdmVycmlkZXM8Qz4pID0+IHtcbiAgICBjb25zdCBkZWZhdWx0czogU3BlY3RhdG9yT3ZlcnJpZGVzPEM+ID0geyBwcm9wczoge30sIGRldGVjdENoYW5nZXM6IHRydWUsIHByb3ZpZGVyczogW10gfTtcbiAgICBjb25zdCB7IGRldGVjdENoYW5nZXMsIHByb3BzLCBwcm92aWRlcnMgfSA9IHsgLi4uZGVmYXVsdHMsIC4uLm92ZXJyaWRlcyB9O1xuXG4gICAgaWYgKHByb3ZpZGVycyAmJiBwcm92aWRlcnMubGVuZ3RoKSB7XG4gICAgICBwcm92aWRlcnMuZm9yRWFjaCgocHJvdmlkZXI6IFByb3ZpZGVyKSA9PiB7XG4gICAgICAgIFRlc3RCZWQub3ZlcnJpZGVQcm92aWRlcigocHJvdmlkZXIgYXMgYW55KS5wcm92aWRlLCBwcm92aWRlciBhcyBhbnkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3Qgc3BlY3RhdG9yID0gY3JlYXRlU3BlY3RhdG9yKG9wdGlvbnMsIHByb3BzKTtcblxuICAgIGlmIChvcHRpb25zLmRldGVjdENoYW5nZXMgJiYgZGV0ZWN0Q2hhbmdlcykge1xuICAgICAgc3BlY3RhdG9yLmRldGVjdENoYW5nZXMoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3BlY3RhdG9yO1xuICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVTcGVjdGF0b3I8Qz4ob3B0aW9uczogUmVxdWlyZWQ8U3BlY3RhdG9yT3B0aW9uczxDPj4sIHByb3BzPzogUGFydGlhbDxDPik6IFNwZWN0YXRvcjxDPiB7XG4gIGNvbnN0IGZpeHR1cmUgPSBUZXN0QmVkLmNyZWF0ZUNvbXBvbmVudChvcHRpb25zLmNvbXBvbmVudCk7XG4gIGNvbnN0IGRlYnVnRWxlbWVudCA9IGZpeHR1cmUuZGVidWdFbGVtZW50O1xuXG4gIGNvbnN0IGNvbXBvbmVudCA9IHNldFByb3BzKGZpeHR1cmUuY29tcG9uZW50SW5zdGFuY2UsIHByb3BzKTtcblxuICByZXR1cm4gbmV3IFNwZWN0YXRvcihmaXh0dXJlLCBkZWJ1Z0VsZW1lbnQsIGNvbXBvbmVudCwgZGVidWdFbGVtZW50Lm5hdGl2ZUVsZW1lbnQpO1xufVxuIl19